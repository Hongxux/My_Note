![[Pasted image 20251120135808.png]]

#### 1. **Test Plan（测试计划）**

- **含义**：这是JMeter测试的根容器，是所有其他元件的“总蓝图”。它代表了您要执行的整个测试场景。
    
- **高并发角色**：作为测试的起点，它允许您设置全局变量、控制线程组的执行顺序（如并行或顺序执行）等。
    
- **参数设置**：通常保持默认。但可以勾选“**Run Thread Groups consecutively (i.e. one at a time)**”来控制多个线程组是顺序还是并行执行，对于高并发，多个线程组通常应设置为并行。
    

#### 2. **Thread Group（线程组）**

- **含义**：这是模拟并发用户的核心！它定义了虚拟用户（线程）的数量、启动方式和执行行为。
    
- **高并发角色**：直接决定了**并发压力的大小和加载模型**。它是制造高并发负载的“发动机”。
    
- **关键参数设置**：
    
    - **Number of Threads (users)**：**线程数（虚拟用户数）**。这是并发量的直接体现，例如设置为 `1000`表示模拟1000个用户同时操作。
        
    - **Ramp-up period (seconds)**：**启动时间**。所有线程在多长时间内启动完毕。例如，100个线程设置Ramp-up为10秒，则JMeter会在10秒内均匀地启动这100个线程。**要模拟瞬间高并发，此项应设置为 `0`**，让所有线程立即启动。
        
    - **Loop Count**：**循环次数**。每个线程执行测试脚本的次数。勾选“**Forever**”可以进行持续压测。
        
    

#### 3. **Synchronizing Timer（同步定时器）**

- **含义**：一个非常重要的定时器，它像一个“发令枪”，会阻塞已就绪的线程，直到聚集到指定数量的线程后，再同时释放。
    
- **高并发角色**：**实现“同一时刻”并发请求的关键元件**。没有它，线程会在启动后立即发送请求，虽然也是高负载，但请求发出时间有微小差异。同步定时器能确保请求在毫秒级内同时到达服务器，用于测试秒杀、抢购等极端场景。
    
- **关键参数设置**：
    
    - **Number of Simultaneous Users to Group by**：**每次集体释放的线程数**。例如设置为 `100`，则表示每凑够100个等待线程，就同时释放它们去执行请求。
        
    

#### 4. **HTTP Header Manager（HTTP头管理器）**

- **含义**：用于设置HTTP请求的头部信息，如 `Content-Type`、`Authorization`等。
    
- **高并发角色**：确保请求的格式和身份认证正确，否则所有请求都可能因格式错误或未授权而失败，高并发测试就失去了意义。
    
- **参数设置**：根据API要求添加，例如：
    
    - `Content-Type: application/json`
        
    - `Authorization: Bearer your_token_here`
        
    

#### 5. **HTTP Request（HTTP请求）**

- **含义**：定义要测试的具体API请求，包括协议、服务器地址、端口、路径、方法（GET/POST）和参数（Parameter/Body Data）。
    
- **高并发角色**：**被压测的目标操作**。所有虚拟用户最终都会执行这个（或这些）请求。
    
- **参数设置**：
    
    - **Web Server**: 填写服务器的 `域名`或 `IP`和 `端口`。
        
    - **HTTP Request**: 选择 `GET`/`POST`等方法，并填写 `路径`。
        
    - **Parameters**​ 或 **Body Data**: 对于POST请求，在 `Body Data`中填写JSON格式的请求体。
        
    

#### 6. **JSON Assertion（JSON断言）**

- **含义**：用于验证HTTP请求返回的JSON响应是否符合预期。
    
- **高并发角色**：**判断请求是否真正成功**。在高并发下，服务器可能返回了HTTP状态码200，但业务逻辑可能出错（如返回 `{“success”: false}`）。断言能精准地发现这类业务层面的错误。
    
- **参数设置**：
    
    - **Assert JSON Path exists**：填写JSONPath表达式，如 `$.success`来检查是否存在success字段。
        
    - **Additionally assert value**：勾选后可以匹配期望的值，如期望 `$.success`的值等于 `true`。
        
    

#### 7. **View Results Tree（查看结果树） & Summary Report（汇总报告）**

- **含义**：这两种都是“监听器”，用于收集和展示测试结果。
    
- **高并发角色**：**结果分析和性能指标查看的窗口**。但它们的分工不同：
    
    - **View Results Tree（查看结果树）**：
        
        - **角色**：**调试神器**。可以详细查看每个请求和响应的全部内容（请求头、请求体、响应头、响应体）。
            
        - **重要警告**：**在正式执行高并发压测时，必须禁用或删除它！**​ 因为它会记录每一个请求的细节，会消耗大量内存和CPU，严重影响JMeter性能，导致测试结果失真。
            
        
    - **Summary Report（汇总报告）**：
        
        - **角色**：**性能分析核心**。它以表格形式聚合所有请求的统计信息，是分析性能指标的主要工具。
            
        - **关键指标**：
            
            - **吞吐量（Throughput）**：系统每秒处理的请求数。这是衡量并发能力的核心指标。
                
            - **平均响应时间（Average）**、**最小/最大响应时间（Min/Max）**。
                
            - **错误率（Error%）**：失败请求的百分比。
                
            - **90%百分位（90th Percentile）**：90%的请求响应时间低于这个值，能更好地反映用户体验。
                
            
        
    

### 💡 总结与工作流程

这个测试计划的高并发模拟流程是：

1. **Thread Group**​ 创建大量虚拟用户。
    
2. **Synchronizing Timer**​ 将这些用户“拦住”，等待指令一同发起冲击。
    
3. **HTTP Header Manager**​ 和 **HTTP Request**​ 定义了要冲击的目标和方式。
    
4. **JSON Assertion**​ 在收到响应后判断这次冲击是否真正有效。
    
5. **Summary Report**​ 最终统计整个冲击的结果，告诉你系统的性能表现。
    

希望这份详细的解释能帮助您彻底理解JMeter高并发测试的配置！