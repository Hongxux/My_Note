
- ​**经典示例**​：统计公司总人数并为其新增部门。
    

|时间序列|事务A（统计与新增事务）|事务B（入职事务）|员工表|
|---|---|---|---|
|T1|开始事务。||已有5名员工|
|T2|​**查询员工总数**，`count(*)`结果为 5。|||
|T3||开始事务。||
|T4||插入一名新员工的记录 (`insert into employee ...`)。|6名员工|
|T5||​**提交事务**。|6名员工（已提交）|
|T6|准备将总人数（5）除以2，为公司创建2个新部门。|||
|T7|​**再次查询员工总数以确认**，`count(*)`结果变为 ​**6**​！|||
|T8|提交事务。|||


