---
aliases:
  - Log Buffer
  - 日志缓冲区
---
日志缓冲区是用于缓存重做日志的小块内存区域。

- ​**功能**​：用来缓冲即将写入磁盘的重做日志和 undo 日志。所有事务的日志信息会先写入 Log Buffer，然后再根据一定策略批量刷新到磁盘上的日志文件。
    
- ​**关键参数**​：
    
    - `innodb_log_buffer_size`：缓冲区大小，默认16MB。对于大事务，可以适当调大。
        
    - `innodb_flush_log_at_trx_commit`：​**控制日志刷盘时机**，是数据安全与性能的关键权衡点：
        
        - ​**1（默认）​**​：事务提交时**立即写入并刷新**到磁盘。最安全，性能最低。
            
        - ​**0**​：日志每秒**写入并刷新**一次。性能高，但服务器崩溃可能丢失1秒内的事务。
            
        - ​**2**​：事务提交时**立即写入**操作系统缓存，但每秒才**刷新**到磁盘。性能与安全性的折中方案。
            
        
    
- ​**价值**​：通过缓冲和批量写入，减少了频繁的磁盘日志写入操作，提升了事务处理的吞吐量。