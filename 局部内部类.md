**适用场景**
1. ​**单方法使用**​：类仅在一个方法内实例化
    
2. ​**无需复用**​：不会被其他方法或外部类引用
    
3. ​**强化封装**​：避免暴露实现细节
    
想象这个困境：你在开发一个支付模块，回调处理类只需在`processPayment()`方法中使用一次。如果定义成普通内部类，其他方法也能看到它，存在被误用的风险！局部内部类就是为此而生——它像方法中的秘密武器，**用完即"消失"**。


---

​**一、本质特征**​

1. ​**定义位置**​：在方法（或代码块）内部定义的类
    ![[Pasted image 20251021202108.png]]
2. ​**作用域**​：
    
    - 仅在该方法内可见
        
    - 编译后类名格式：`外部类$数字内部类.class`（如`TalkingClock$1TimePrinter.class`）
        
    
3. ​**访问控制**​：**不仅仅可以访问外部类的字段，还可以访问外部方法的字段**
- 编译器将方法中的局部变量**复制**到内部类实例中（如`val$beep`字段），访问时使用副本值而非原变量

|特性|规则|
|---|---|
|访问修饰符|禁止使用（无public/private等）|
|外部类成员访问|可访问所有成员（含private）|
|方法局部变量|必须为final或等效final（Java 8+）|
    

​**二、关键优势**​

- ​**极致封装**​：
    
    ```
    public void start() {
        class TimePrinter { ... } // 仅start()可见
        new TimePrinter();  
    }
    ```
    
    对比普通内部类：
    
    ```
    class TalkingClock {
        class TimePrinter { ... } // 整个类可见
    }
    ```
    
- ​**减少污染**​：避免类爆炸（减少全局类定义）
    
- ​**安全隔离**​：防止外部代码意外实例化
    

​**三、典型应用场景**​

1. ​**单次使用的回调处理器**​（如事件监听）：仅使用**一次**这个类
    
2. ​**复杂算法辅助类**​（仅单一方法需要）
    
3. ​**替代匿名内部类**​（需复用或复杂逻辑时）
    