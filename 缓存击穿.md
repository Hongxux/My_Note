缓存击穿问题也叫热点Key问题，就是部分key突然失效了，无数的请求访问在瞬间给数据库带来巨大的冲击。这个部分key（热点key）满足：
- 被高并发访问（热点数据）
- 缓存重建业务较复杂的key（涉及多表查询和多表运算）
![[Pasted image 20251118143702.png]]

**多次查询未命中，导致多次缓存重建**

解决方案：
- 互斥锁：在第一个发现未命中的线程获取互斥锁，再进行缓存重建
	- 问题：性能差，只有一个线程在重建，其他都在等待
  ![[Pasted image 20251118143919.png]]
- 逻辑过期：
	- 有一个字段作为逻辑过期时间
	- 发现逻辑时间过期
		- 第一个的人，获取锁，然后异步开启新线程进行更新缓存，而主线程直接返回过期数据
		- 在这期间的线程发现锁逻辑过期，且互斥锁被拿走了（有人帮忙进行更新缓存），于是直接返回过期数据
		  ![[Pasted image 20251118145008.png]]
		![[Pasted image 20251118144419.png]]
![[Pasted image 20251118144432.png]]

