
| ​**字段类型**​ | 字段名                   | 核心功能                       | 典型值示例                           |
| ---------- | --------------------- | -------------------------- | ------------------------------- |
| 内容协商       | `Accept`              | 声明可处理的媒体类型                 | `text/html, image/*`            |
|            | `Accept-Language`<br> | 指定响应语言优先级                  | `en-US, fr;q=0.5`               |
|            | Accept-Encoding       | 声明支持的压缩算法                  | 如`gzip`                         |
| 条件请求       | `If-Modified-Since`   | 验证资源是否修改                   | `Thu, 01 Jan 2023 00:00:00 GMT` |
|            | `If-None-Match`       | 匹配资源ETag，避免客户端缓存过期时获取无效数据。 | `"5d83a-1f3b"`                  |
| 身份认证       | `Authorization`       | 传递凭证信息                     | `Bearer eyJhbGciOi...`          |
|            | `Cookie`              | 维持会话状态                     | `user_token=abc123`             |
| 传输控制       | `Host`                | 指定目标服务器域名                  | `api.example.com`               |
|            | `Range`               | 请求部分内容                     | `bytes=0-499`                   |

### 一、**请求首部字段分类**​

请求首部字段分为四类，用于精细化控制请求行为：

1. ​**内容协商字段**​：声明客户端可处理的资源类型（如语言、编码格式）
    
2. ​**条件请求字段**​：基于资源状态触发特定响应（如缓存更新验证）
    
3. ​**身份认证字段**​：携带用户凭证或权限信息
    
4. ​**传输控制字段**​：管理连接、范围请求等传输细节
    

---

### 二、**常见请求首部字段详解**​

#### 1. ​**内容协商类**​

- ​**Accept**​
    
    - ​**作用**​：声明客户端可处理的媒体类型（如`text/html`）及优先级（q值权重）。
        
    - ​**示例**​：`Accept: text/html, application/xhtml+xml;q=0.9`
        
    - ​**场景**​：浏览器优先请求HTML格式资源，其次支持XHTML。
        
    
- ​**Accept-Language**​
    
    - ​**作用**​：指定响应内容的自然语言优先级（如`zh-CN`中文简体）。
        
    - ​**示例**​：`Accept-Language: zh-CN, en;q=0.7`
        
    - ​**场景**​：用户希望获取中文版页面，英文为备选。
        
    
- ​**Accept-Encoding**​
    
    - ​**作用**​：声明支持的压缩算法（如`gzip`）。
        
    - ​**示例**​：`Accept-Encoding: gzip, deflate`
        
    - ​**场景**​：减少传输数据量，提升加载速度。
        
    

#### 2. ​**条件请求类**​

- ​**If-Modified-Since**​
    
    - ​**作用**​：若资源在指定时间后未修改，则返回304状态码（使用缓存）。
        
    - ​**示例**​：`If-Modified-Since: Fri, 31 Aug 2007 02:02:20 GMT`
        
    - ​**依赖字段**​：需与响应头`Last-Modified`配对使用。
        
        ![](https://hunyuan-plugin-private-1258344706.cos.ap-nanjing.myqcloud.com/pdf_youtu/img/hy-20250914141649_e0d1c67c63455c2562f71481d7fc7a06-108-5.png?q-sign-algorithm=sha1&q-ak=AKID372nLgqocp7HZjfQzNcyGOMTN3Xp6FEA&q-sign-time=1757854337%3B2073214337&q-key-time=1757854337%3B2073214337&q-header-list=host&q-url-param-list=&q-signature=26484676a2185513590d75818a8d3b22ca355114)
        
    
- ​**If-None-Match**​
    
    - ​**作用**​：若资源的ETag与给定值不匹配，则返回新内容（避免覆盖冲突）。
        
    - ​**示例**​：`If-None-Match: "123456"`
        
    - ​**场景**​：避免客户端缓存过期时获取无效数据。
        
    

#### 3. ​**身份认证类**​

- ​**Authorization**​
    
    - ​**作用**​：携带服务器要求的认证信息（如Basic或Bearer Token）。
        
    - ​**示例**​：`Authorization: Basic dXNlcjpwYXNz`（Base64编码的用户名密码）
        
    - ​**场景**​：访问需登录的API接口。
        
        ![](https://hunyuan-plugin-private-1258344706.cos.ap-nanjing.myqcloud.com/pdf_youtu/img/hy-20250914141649_e0d1c67c63455c2562f71481d7fc7a06-105-0.png?q-sign-algorithm=sha1&q-ak=AKID372nLgqocp7HZjfQzNcyGOMTN3Xp6FEA&q-sign-time=1757854345%3B2073214345&q-key-time=1757854345%3B2073214345&q-header-list=host&q-url-param-list=&q-signature=40e42cfb72c2b83e6e8bea6174d132734a66e8e9)
        
    
- ​**Cookie**​
    
    - ​**作用**​：传递服务器先前设置的会话标识符。
        
    - ​**示例**​：`Cookie: session_id=abc123; theme=dark`
        
    - ​**场景**​：维持用户登录状态或个性化配置。
        
    

#### 4. ​**传输控制类**​

- ​**Host**​
    
    - ​**作用**​：指定请求的目标服务器域名（HTTP/1.1强制要求）。
        
    - ​**示例**​：`Host: www.example.com`
        
    - ​**场景**​：虚拟主机托管多个域名时区分站点。
        
        ![](https://hunyuan-plugin-private-1258344706.cos.ap-nanjing.myqcloud.com/pdf_youtu/img/hy-20250914141649_e0d1c67c63455c2562f71481d7fc7a06-107-0.png?q-sign-algorithm=sha1&q-ak=AKID372nLgqocp7HZjfQzNcyGOMTN3Xp6FEA&q-sign-time=1757854353%3B2073214353&q-key-time=1757854353%3B2073214353&q-header-list=host&q-url-param-list=&q-signature=ddb415163a3173378fefa4ef09021720c1d46c8a)
        
    
- ​**Range**​
    
    - ​**作用**​：请求部分内容（用于断点续传或分块下载）。
        
    - ​**示例**​：`Range: bytes=500-1000`
        
    - ​**响应关联**​：触发服务器返回206 Partial Content状态码。
        
    
​

---

### 四、**应用场景总结**​

1. ​**性能优化**​
    
    - 使用`Accept-Encoding: gzip`减少带宽占用
        
    - 通过`If-Modified-Since`利用缓存减少重复传输
        
    
2. ​**权限控制**​
    
    - `Authorization`实现API访问控制
        
    - `Cookie`维持Web应用登录状态
        
    
3. ​**精准请求**​
    
    - `Host`支持虚拟主机多域名部署
        
    - `Range`实现大文件分块下载
        
    
4. ​**内容适配**​
    
    - `Accept-Language`自动返回用户偏好的语言版本
        
    - `Accept`动态选择响应格式（如HTML/JSON）
        
    

> 💎 ​**关键实践**​：
> 
> - 强制要求`Host`字段避免虚拟主机解析错误
>     
> - 条件请求字段（如`If-None-Match`）优先于时间验证（`If-Modified-Since`），因ETag更精确
>     
> - 敏感操作（如支付）避免仅依赖`Cookie`，需配合`Authorization`增强安全
>     


