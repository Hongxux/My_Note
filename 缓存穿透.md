
### 一、什么是缓存穿透？
![[Pasted image 20251118213132.png]]
**缓存穿透**是指查询一个**数据库中根本不存在的数据**。由于缓存无法命中，请求会直接穿透缓存层，直达数据库。如果有大量此类请求并发发生，数据库可能会不堪重负。

**核心特征**：查询的数据在**缓存和数据库中都不存在**。

---
### 二、发生原因

缓存穿透通常由以下原因引起：

1. **业务逻辑漏洞**：例如，根据非法的商品ID、用户ID进行查询。这些ID在数据库中本来就不存在。
    
2. **恶意攻击**：黑客或爬虫程序故意伪造大量不存在的数据ID（如负数的用户ID、极大数值的商品ID），发起海量请求，意图压垮数据库。
---
### 三、解决方案
#### 1. [[缓存空对象]]

---

#### 2.[[布隆过滤]]

----

#### 3.总结
1. **第一层（网关/接口层）**：进行最基本的参数校验，拦截掉格式错误的请求。
    
2. **第二层（缓存服务层）**：使用**布隆过滤器**，拦截掉绝大部分肯定不存在的请求。
    
3. **第三层（兜底方案）**：对于通过了布隆过滤器的请求，如果缓存未命中且数据库查询结果为空，则使用**缓存空对象**方案，并设置较短的过期时间。