
#### 1. ç»§æ‰¿ Thread ç±»

è¿™æ˜¯æœ€åŸºç¡€çš„æ–¹å¼ï¼Œé€šè¿‡ç»§æ‰¿ `Thread`ç±»å¹¶é‡å†™ `run()`æ–¹æ³•æ¥å®šä¹‰çº¿ç¨‹æ‰§è¡Œä½“ã€‚

```
class MyThread extends Thread {
    @Override
    public void run() {
        // çº¿ç¨‹è¦æ‰§è¡Œçš„ä»»åŠ¡
        System.out.println("çº¿ç¨‹è¿è¡Œ: " + Thread.currentThread().getName());
    }
}

public class Main {
    public static void main(String[] args) {
        // åˆ›å»ºå¹¶å¯åŠ¨çº¿ç¨‹
        MyThread thread = new MyThread();
        thread.start(); // å¯åŠ¨æ–°çº¿ç¨‹
        // thread.run(); // é”™è¯¯ï¼è¿™ä¼šåœ¨å½“å‰ä¸»çº¿ç¨‹ä¸­åŒæ­¥æ‰§è¡Œrunæ–¹æ³•ï¼Œä¸ä¼šå¯åŠ¨æ–°çº¿ç¨‹ã€‚
    }
}
```

**å…³é”®ç‚¹**ï¼šåŠ¡å¿…è°ƒç”¨ `start()`æ–¹æ³•è€Œéç›´æ¥è°ƒç”¨ `run()`æ–¹æ³•ã€‚`start()`ä¼šå¯åŠ¨æ–°çº¿ç¨‹å¹¶è‡ªåŠ¨è°ƒç”¨ `run()`ï¼Œè€Œç›´æ¥è°ƒç”¨ `run()`åˆ™ç­‰åŒäºæ™®é€šæ–¹æ³•è°ƒç”¨ï¼Œä¸ä¼šå¯åŠ¨æ–°çº¿ç¨‹ ã€‚

- å¯ä»¥åŸºäºåŒ¿åå†…éƒ¨ç±»çš„æ–¹å¼ï¼Œç›´æ¥ä½¿ç”¨Thread![[Pasted image 20251128162155.png]]
	- æ„æˆå‚æ•°ä¸ºçº¿ç¨‹æŒ‡å®šåå­—

#### 2. å®ç° Runnable æ¥å£ï¼ˆæ›´æ¨èï¼‰

ç”±äº Java æ˜¯å•ç»§æ‰¿ï¼Œå®ç° `Runnable`æ¥å£æ›´ä¸ºçµæ´»ï¼Œä¹Ÿæ›´ç¬¦åˆé¢å‘å¯¹è±¡çš„è®¾è®¡åŸåˆ™ã€‚

```
class MyRunnable implements Runnable {
    @Override
    public void run() {
        // çº¿ç¨‹è¦æ‰§è¡Œçš„ä»»åŠ¡
        System.out.println("çº¿ç¨‹è¿è¡Œ: " + Thread.currentThread().getName());
    }
}

public class Main {
    public static void main(String[] args) {
        MyRunnable myRunnable = new MyRunnable();
        // å°†Runnableå®ä¾‹ä½œä¸ºå‚æ•°ä¼ é€’ç»™Threadæ„é€ å‡½æ•°
        Thread thread = new Thread(myRunnable);
        thread.start();
        
        // ä¹Ÿå¯ä»¥ä½¿ç”¨Lambdaè¡¨è¾¾å¼ç®€åŒ–åŒ¿åå†…éƒ¨ç±»çš„å†™æ³•
        Thread lambdaThread = new Thread(() -> {
            System.out.println("Lambdaçº¿ç¨‹è¿è¡Œ: " + Thread.currentThread().getName());
        });
        lambdaThread.start();
    }
}
```

è¿™ç§æ–¹å¼å…è®¸å¤šä¸ªçº¿ç¨‹å…±äº«åŒä¸€ä¸ª `Runnable`å®ä¾‹ï¼Œä½¿å¾—å®ƒä»¬å¯ä»¥å¾ˆæ–¹ä¾¿åœ°æ“ä½œå…±äº«èµ„æºï¼ˆå½“ç„¶éœ€è¦åŒæ­¥æœºåˆ¶æ¥ä¿è¯çº¿ç¨‹å®‰å…¨ï¼‰ã€‚

#### 3. å®ç° Callable æ¥å£ï¼ˆå¯è·å–è¿”å›å€¼ï¼‰

å½“éœ€è¦ä»å¼‚æ­¥æ‰§è¡Œçš„ä»»åŠ¡ä¸­è·å–ç»“æœæ—¶ï¼Œå¯ä»¥ä½¿ç”¨ `Callable`æ¥å£ã€‚å®ƒçš„ `call()`æ–¹æ³•å¯ä»¥æœ‰è¿”å›å€¼å’ŒæŠ›å‡ºå¼‚å¸¸ã€‚

```
import java.util.concurrent.Callable;
import java.util.concurrent.FutureTask;

class MyCallable implements Callable<String> {
    @Override
    public String call() throws Exception {
        // æ‰§è¡Œä»»åŠ¡å¹¶è¿”å›ç»“æœ
        Thread.sleep(1000);
        return "Callableä»»åŠ¡æ‰§è¡Œå®Œæ¯•";
    }
}

public class Main {
    public static void main(String[] args) throws Exception {
        MyCallable callable = new MyCallable();
        // ä½¿ç”¨FutureTaskåŒ…è£…Callableå¯¹è±¡
        FutureTask<String> futureTask = new FutureTask<>(callable);
        // FutureTaskä¹Ÿå®ç°äº†Runnableï¼Œå¯ä»¥ä½œä¸ºThreadçš„target
        Thread thread = new Thread(futureTask);
        thread.start();

        // è·å–ä»»åŠ¡æ‰§è¡Œç»“æœï¼ˆä¼šé˜»å¡å½“å‰çº¿ç¨‹ç›´åˆ°ä»»åŠ¡å®Œæˆï¼‰
        String result = futureTask.get();
        System.out.println("ä»»åŠ¡ç»“æœ: " + result);
    }
}
```

#### 4. ä½¿ç”¨ ExecutorService çº¿ç¨‹æ± ï¼ˆç”Ÿäº§ç¯å¢ƒé¦–é€‰ï¼‰

ç›´æ¥åˆ›å»ºçº¿ç¨‹å¼€é”€è¾ƒå¤§ä¸”éš¾ä»¥ç®¡ç†ã€‚ä½¿ç”¨çº¿ç¨‹æ± å¯ä»¥å¤ç”¨çº¿ç¨‹ï¼Œæœ‰æ•ˆæ§åˆ¶å¹¶å‘æ•°ï¼Œå¹¶æä¾›å®šæ—¶ã€å®šæœŸæ‰§è¡Œç­‰åŠŸèƒ½ ã€‚

```
import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;

public class Main {
    public static void main(String[] args) {
        // åˆ›å»ºä¸€ä¸ªå›ºå®šå¤§å°çš„çº¿ç¨‹æ± 
        ExecutorService executor = Executors.newFixedThreadPool(2);

        // æäº¤Runnableä»»åŠ¡
        executor.execute(() -> {
            System.out.println("Runnableä»»åŠ¡ç”± " + Thread.currentThread().getName() + " æ‰§è¡Œ");
        });

        // æäº¤Callableä»»åŠ¡å¹¶è·å–Future
        var future = executor.submit((Callable<String>) () -> "Callableä»»åŠ¡ç»“æœ");
        
        // å…³é—­çº¿ç¨‹æ± ï¼ˆä¸å†æ¥å—æ–°ä»»åŠ¡ï¼Œå·²æäº¤ä»»åŠ¡ä¼šç»§ç»­æ‰§è¡Œå®Œæ¯•ï¼‰
        executor.shutdown();
    }
}
```

### ğŸ’¡ æ ¸å¿ƒè¦ç‚¹ä¸æœ€ä½³å®è·µ

1. **`start()`vs `run()`**ï¼šå†æ¬¡å¼ºè°ƒï¼Œå¯åŠ¨æ–°çº¿ç¨‹å¿…é¡»è°ƒç”¨ `start()`æ–¹æ³•ã€‚ç›´æ¥è°ƒç”¨ `run()`åªæ˜¯åœ¨å½“å‰çº¿ç¨‹åŒæ­¥æ‰§è¡Œä»£ç  ã€‚
    
2. **çº¿ç¨‹å®‰å…¨**ï¼šå½“å¤šä¸ªçº¿ç¨‹å…±äº«æ•°æ®æ—¶ï¼Œå¿…é¡»ä½¿ç”¨åŒæ­¥æœºåˆ¶ï¼ˆå¦‚ `synchronized`å…³é”®å­—æˆ– `Lock`å¯¹è±¡ï¼‰æ¥ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ï¼Œé˜²æ­¢ç«æ€æ¡ä»¶ ã€‚
    
3. **ä¼˜å…ˆé€‰æ‹©çº¿ç¨‹æ± **ï¼šå¯¹äºéœ€è¦å¤„ç†å¤§é‡çŸ­æœŸå¼‚æ­¥ä»»åŠ¡çš„åœºæ™¯ï¼Œä½¿ç”¨ `ExecutorService`çº¿ç¨‹æ± æ˜¯å®˜æ–¹æ¨èçš„æœ€ä½³å®è·µï¼Œå®ƒèƒ½æ˜¾è‘—æå‡æ€§èƒ½å¹¶ç®€åŒ–çº¿ç¨‹ç®¡ç† ã€‚
    
4. **èµ„æºé‡Šæ”¾**ï¼šä½¿ç”¨å®Œ `ExecutorService`åï¼Œåº”è°ƒç”¨ `shutdown()`æ–¹æ³•æ¥å¹³æ»‘å…³é—­çº¿ç¨‹æ± ï¼Œé¿å…èµ„æºæ³„æ¼ã€‚
    

å¸Œæœ›è¿™ä»½è¯¦ç»†çš„æŒ‡å—èƒ½å¸®åŠ©ä½ åœ¨ Java ä¸­ç†Ÿç»ƒåœ°åˆ›å»ºå’Œç®¡ç†çº¿ç¨‹ï¼å¦‚æœä½ å¯¹çº¿ç¨‹åŒæ­¥æˆ–ç‰¹å®šåœºæ™¯ä¸‹çš„çº¿ç¨‹åº”ç”¨æœ‰æ›´å¤šç–‘é—®ï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­æ·±å…¥æ¢è®¨ã€‚