### 采取删除缓存的原因
- **适合场景：写多读少**
    
- **原因**：
	- 避免**无效写操作**
		 在数据频繁更新（写多）的场景下，如果采用“更新缓存”策略，每次数据库更新都要伴随一次缓存更新。但可能紧接着这个数据又被更新了，导致前一次更新的缓存还没来得及被读取就失效了，造成了大量的**无效写操作**，浪费网络和计算资源。
	- 删除缓存是**幂等操作**
		在并发写请求的场景下，如果两个线程同时更新数据库和缓存，由于网络或执行顺序的不确定性，可能会出现线程A的旧缓存值覆盖线程B的新缓存值的情况，导致数据永久不一致。而删除操作是幂等的，更为安全
	- **简化操作逻辑**：直接更新缓存需要知道缓存的确切数据结构，这在复杂场景下会增加系统的复杂性和耦合度。而删除操作更为通用和简单
    
- **优势**：“删除缓存”策略在更新数据时只是让缓存失效。只有当这个数据再次被请求（读）时，才会触发缓存的重新加载（回填）。这在写多读少的场景下，**大大减少了不必要的缓存更新次数**，提升了性能。


### 删除缓存的风险和应对

#### 1. **删除缓存失败**
这是该策略最主要的风险。若数据库更新成功但缓存删除失败，会导致缓存中一直是旧数据。解决方案是引入[[重试机制]]
#### 2.**应对极低概率的并发不一致**
在缓存失效且恰好有并发读写时，仍有一个非常小的概率会出现短暂不一致。对于一致性要求极高的场景，可以采用[[延迟双删]]策略
