---
aliases:
  - 共享锁
  - 排他锁
  - S锁
  - X锁
---

##### 1. 共享锁（S锁）

- ​**特性**​：允许一个事务**读取**一行数据。
    
- ​**作用**​：阻止其他事务获取**相同数据行**的**排他锁（X锁）​**，但允许其他事务获取共享锁。
    
- ​**类比**​：就像多人同时打开同一份文档进行**只读**查看，互不干扰。
    

##### 2. 排他锁（X锁）

- ​**特性**​：允许一个事务**更新或删除**一行数据。
    
- ​**作用**​：阻止其他事务获取相同数据行的**共享锁（S锁）​**​ 和**排他锁（X锁）​**。
    
- ​**类比**​：就像一个人打开了文档并选择**编辑**，此时系统会锁定文件，阻止其他人同时查看或编辑。
    

##### 3. 兼容性矩阵：核心规则

图1的表格是理解并发控制的关键：

|当前已持有的锁|请求 ​**共享锁 (S)​**​|请求 ​**排他锁 (X)​**​|
|---|---|---|
|​**共享锁 (S)​**​|​**兼容**​ ✅|​**冲突**​ ❌|
|​**排他锁 (X)​**​|​**冲突**​ ❌|​**冲突**​ ❌|

​**规则解读**​：

- ​**S锁与S锁兼容**​：允许多个事务**同时读取**同一行数据，这是高并发读的基础。
    
- ​**S锁与X锁冲突**​：一个事务正在读时，不允许其他事务修改该行数据，防止读到未提交的更改（脏读）。
    
- ​**X锁与任何锁都冲突**​：一个事务正在修改某行时，其他事务**既不能读也不能写**该行，保证数据更新的安全性。