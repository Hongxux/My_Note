---
aliases:
  - RESTFul
---

## 一、RESTful 的含义

RESTful 不是一种标准，而是一种**API设计风格和一套约束原则**。
将 “Representational State Transfer” 这个抽象术语分解为三个可操作的组成部分，这正是理解 REST 的关键。

> [!NOTE]
> **表述性状态转移是指：通过 URI + 请求方式来控制服务器端数据的变化。**
> 
> 这描述了一个完整的、符合 REST 风格的交互过程：
> 
> 1. **客户端意图**：客户端希望改变服务器上的数据（状态）。
>     
> 2. **构造表述**：客户端使用一个标准的 **HTTP 方法**（如 PUT、POST）和一个清晰的 **URI**，组合成一个明确的“指令”（表述）。
>     
> 3. **发起请求**：客户端将这个指令发送给服务器。
>     
> 4. **状态转移**：服务器解析指令，执行相应的业务逻辑，最终导致服务器上的数据（状态）发生了变化。

#### 1. 表述性（Representational）

- **含义**：指客户端和服务器交互时，操作的**不是资源本身**，而是资源的“表述”（Representation）。这个表述是对资源状态的一种描述。
    
- **如何实现**：正如图片所指出的，通过 **URI（统一资源标识符） + 请求方式（HTTP Method）** 来共同表达。
    
    - **URI**：标识你要操作的是**哪个资源**。例如，`/books/1`标识了“ID为1的图书”这个资源。
        
    - **HTTP 方法**：声明你希望对资源进行**何种操作**。例如，`GET`表示获取，`POST`表示创建，`PUT`表示更新，`DELETE`表示删除。
        
    
- **示例**：`DELETE /books/1`这个请求的“表述性”就是：**请删除（DELETE）标识为 `/books/1`的图书资源**。
    

#### 2. 状态（State）

- **含义**：指的是**服务器端维护的资源状态**。简单来说，就是存储在服务器数据库或其他地方的数据。
    
- **示例**：一本书的标题、作者、价格等信息，一个用户的姓名、邮箱等，这些数据在服务器上的当前值就是“状态”。
 
- **资源层级与集合**：
	- **获取所有用户**：`GET /users`
	- **获取某个用户的所有订单**：`GET /users/123/orders`（表示用户123下的订单集合）
	- **获取某个用户的某个订单**：`GET /users/123/orders/456
	
#### 3. 转移（Transfer）

- **含义**：指通过客户端和服务器之间的交互，使服务器端的资源状态发生**变化**或**传输**。
    
- **示例**：
    
    - 客户端发送 `POST /books`并附带新书的信息，服务器**创建**一个新书资源（状态从无到有）。
        
    - 客户端发送 `PUT /books/1`并附带更新后的信息，服务器**修改**ID为1的图书数据（状态从A变为B）。
        
    - 客户端发送 `GET /books/1`，服务器将图书数据的当前状态**传输**（返回）给客户端。
        
    


## RESTFul的约束
### 一、核心约束：请求方法（HTTP Method）的语义

这是RESTful最显著的标志。它将基本的CRUD（增删改查）操作映射到标准的HTTP方法上。

|操作类型|HTTP 方法|语义描述|是否幂等|是否安全|
|---|---|---|---|---|
|**查询/获取**|**GET**|**获取**指定的资源。|是|是|
|**新增/创建**|**POST**|**创建**一个新的资源。|否|否|
|**修改/更新**|**PUT**|**完整更新**指定的资源（提供全部信息）。|是|否|
|**删除**|**DELETE**|**删除**指定的资源。|是|否|
|**部分更新**|**PATCH**|**部分更新**指定的资源（仅提供变更信息）。|否|否|

> **说明**：
> 
> - **幂等性**：意味着无论一次操作还是多次操作，产生的结果是相同的。例如，多次调用 `DELETE /users/123`，结果都是用户123被删除（第二次调用可能返回404，但资源状态不变）。
>     
> - **安全性**：意味着操作不会修改服务器端的资源状态。`GET`是只读的，因此是安全的。
>     



### 二、 数据格式与状态码

1. **数据格式**：
    
    - 请求和响应的数据体（Body）通常使用 **JSON**格式，因为其轻量、易读。
        
    - 在请求头（Headers）中明确指定：`Content-Type: application/json`和 `Accept: application/json`。
        
    
2. **HTTP状态码**：利用状态码清晰地告知客户端请求结果。
    
    - `200 OK`：请求成功。
        
    - `201 Created`：资源创建成功。通常配合 `Location`头返回新资源的URL。
        
    - `400 Bad Request`：客户端请求错误（如参数校验失败）。
        
    - `404 Not Found`：请求的资源不存在。
        
    - `500 Internal Server Error`：服务器内部错误。
        
    

