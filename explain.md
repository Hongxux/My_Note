- 作用：用于**模拟 MySQL 优化器如何执行一条 SQL 查询语句**。
	- 通过分析它的返回结果，可以了解查询的执行细节，从而对查询语句或数据库结构进行优化。
	- 不会真正运行
- 用法：在需要分析的 `SELECT`语句前加上 `EXPLAIN`或 `DESC`关键字即可。

	```
	-- 两种方式等效
	EXPLAIN SELECT 字段列表 FROM 表名 WHERE 条件；
	
	-- 或者
	DESC SELECT 字段列表 FROM 表名 WHERE 条件；
	```
- 返回的结果分析

|核心列|核心关注点与解读|优化目标|
|---|---|---|
|**type**​|**访问类型**，即 MySQL 如何查找数据。这是**衡量查询效率的首要指标**。其值按性能从优到劣排序。|至少达到 **range**​ 级别，力争 **ref**，避免 **ALL**（全表扫描）。|
|**key**​|**实际使用的索引**。如果为 `NULL`，表示未使用索引。|确保查询使用了合适的索引，不为 `NULL`。|
|**rows**​|**MySQL 预估**需要扫描的行数。这是一个基于统计信息的估算值。|数值越小越好，表示需要检查的数据量越小。|
|**Extra**​|**额外信息**，包含大量重要的执行细节。|追求出现 **Using index**，警惕 **Using temporary**​ 和 **Using filesort**。|
1. **type 列：访问类型详解**
	- **system***：表只有一行
    - **const**：最多返回一条匹配记录
		- 使用**主键或唯一索引**
		- 进行**等值**查询
    - **eq_ref**：在多表连接（JOIN）时，对于前表的每一行，当前表只有一条记录与之匹配。
	    - 多表联查
	    - 使用**主键或唯一索引**作为关联条件
    - **ref**：可能返回多条匹配记录
	    - 使用**非唯一索引**
	    - 进行**等值查询**
    - **range**：这是需要保证的最低性能级别。
	    - 使用索引
	    - 进行范围扫描： `BETWEEN`、`IN`、`>`、`<`等。
    - **index**：遍历整个索引树。虽然比全表扫描好，因为它通常只遍历索引树（索引文件比数据文件小），但依然不理想。
	    - 含义：
		    - 需要回表
		    - 或者查询条件中的列没有合适的索引，但存在一个可以扫描的索引（即使它不是最优的）
		- 优化方式：
			- 检查是否真正需要所有数据，考虑使用 `LIMIT`
			- 创建覆盖索引
    - **ALL**：全表扫描。性能最差，意味着数据库需要遍历整张表来找到需要的行。**必须优化**。
	    - 含义：无索引可用，性能最差
	    - 优化方式：为查询条件中的列创建索引，特别是 `WHERE`、`JOIN ON`子句中的列。
    
2. **Extra 列：优化器如何处理查询的补充信息**
    - **Using index**：查询使用了"**覆盖索引**"，
    - **Using where**：表示存储引擎返回行后，MySQL 服务器层**还需要再次使用** WHERE 条件进行过滤。
	    - 索引未能完全覆盖查询条件
	- **Using index condition**：使用了**索引条件下推**
		- 对于复合索引，即使没有使用到所有列，存储引擎也会在索引扫描阶段就过滤掉不满足条件的记录，减少回表次数。
    - **Using temporary**：表示 MySQL 需要创建一张临时表来处理查询、
	    - 常见于 `GROUP BY`, `DISTINCT`, `UNION`或复杂的 `ORDER BY`操作
	    - 且这些操作无法利用索引
    - **Using filesort**：表示 MySQL 无法使用索引来完成排序
	    - 索引排序生效的判断条件与正向标识：`Extra` 字段中**不存在 `Using filesort`**

---
- **[[order by优化]]**
- **[[group by 优化]]**
- **[[limit优化]]**


