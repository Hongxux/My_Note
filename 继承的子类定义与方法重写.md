---
aliases:
  - inheritence
tags:
  - linker-exclude
---
继承用于差异化设计——子类专注于添加特定功能，而通用功能放在超类中。这支持代码复用和模块化

---

### **继承语法**​：
使用`extends`关键字声明子类，例如`public class Manager extends Employee`，表示`Manager`类继承自`Employee`类。
- **术语解释**​：被继承的类称为超类（superclass）、基类（base class）或父类（parent class），新类称为子类（subclass）、派生类（derived class）或子类（child class）。Java程序员常用“超类”和“子类”术语。
- **限制**​：
	- 记录（records）不能被继承，也不能继承其他类，这是Java记录类型的固有特性。
	- 不能继承被final修饰的类

**多态和动态绑定**​：对象变量（如`Employee e`）可以引用多种实际类型（如`Employee`或`Manager`）。在运行时，虚拟机根据对象的实际类型动态选择调用哪个方法（如`e.getSalary()`会调用`Employee`或`Manager`的版本）。 ^48d622
### **字段和方法继承**​：
- **超类的方法：** 子类自动继承（不用定义方法，能直接使用）超类的公共和受保护方法（如`getName`和`getHireDay`）
- **超类的字段：** 子类对象包含超类字段，但私有字段（如`private`字段）**不能被直接访问**（虽然子类对象包含超类私有字段，但子类不能直接访问它们，必须通过超类的公共方法间接访问），因此不被视为“继承” in the strict sense。
	- 不能通过 this.name获得，只能通过superclass的公共方法super.getname()得到
		- ​**super关键字的使用**​：使用super.methodName()调用超类方法，避免无限递归。例如，在Manager的getSalary方法中，调用super.getSalary()获取基本工资，然后加上奖金。
- **可以添加新字段和方法（如`bonus`字段和`setBonus`方法）**。


### 子类对超类的拓展

^04ab68

#### 方法重写：
**方法重写的需求**​：子类可能需要修改超类方法的行为以适应新功能。例如，Manager类的getSalary方法需要返回基本工资加奖金，而Employee类的getSalary只返回基本工资。
- ​**super关键字的使用**​：使用super.methodName()调用超类方法，避免无限递归。例如，在Manager的getSalary方法中，调用super.getSalary()获取基本工资，然后加上奖金。
	- ​**错误示例**​：直接访问salary字段或调用getSala ry()会导致编译错误或无限递归，因为子类方法会调用自身。

#### 子类构造器
**子类构造器要求**​：子类构造器必须通过`super`调用超类构造器，且该调用必须是构造器的第一个语句。例如，`Manager`构造器使用`super(name, salary, year, month, day)`来初始化从`Employee`继承的字段。
- **uper关键字的多义性**​：`super`有两种用途——调用超类方法（如`super.getSalary()`）和调用超类构造器（如`super(...)`）。这与`this`关键字类似，但`super`用于超类交互。