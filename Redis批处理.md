### 需求分析
![[Pasted image 20251125172146.png]]
![[Pasted image 20251125172514.png]]
![[Pasted image 20251125172605.png]]

- Redis服务器的执行耗时远远小于网络传输的耗时，以至于可以忽略不计执行命令耗时
	- Redis服务器的执行耗时是微秒级别
	- 网络传输的耗时是毫秒级别
- 解决方法：N条命令批处理，例如mset和hset
	- ![[Pasted image 20251125172647.png]]
		- 但是不要一口气传输太多的命令
			- 带宽占用太多会导致阻塞 
### Pipeline（单机模式下）
MSET虽然可以批处理，但是却只能操作部分数据类型，因此如果有对复杂数据类型的批处理需要，建议使用Pipeline功能:
![[Pasted image 20251125173646.png]]
- 批处理时不建议一次携带太多命令
- Pipeline的多个命令之间不具备原子性
	- 如果有原子性要求可以使用m型命令（如mset，hmset）
### 集群模式下的批处理