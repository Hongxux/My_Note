---
aliases:
  - Card Table
---
- 需求背景：
	- CMS中 young gc 过程，卡表能减少对老年代的扫描的问题
	- G1中作为RSet数据的来源
- 定位：
	- 每个Region就有一个卡表：映射Region中的卡页
	- 整个堆有个全局卡片表：存储所有Region的卡表情况，即每个Region中卡表的并集
- 数据结构：单字节数组
	- 当我们把 JVM 划分成不同区域的时候，每一个区域（通常是4k字节）就得到了一个标志位
- 作用： 每一个Region的Card，都用一个Byte来记录是否修改过
	- 更新时机：并发标记，某个对象的引用发生了变化，标记该对象所在的 Card 为 Dirty Card
	- 更新方式：利用写屏障+异步更新，将更新放入脏卡队列，异步进行