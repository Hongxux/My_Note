- 需求背景：
	- 内存有限，可能出现内存溢出OutOfMemoryError
		- 高并发情况下，为每个请求都创建一个线程，会占用很大内存，会超出内存上限
	- 线程数量不是越多越好
		- 线程过多，cpu处理不过来，会让线程进入阻塞，从而造成频繁的上下文切换
- 解决方案：线程池
- 线程池的核心思想：复用已经创建的线程
	- 理解分配空闲线程：无需等待创建线程的耗时
	- 使用的已经创建的线程：避免了创建和销毁线程带来的性能损耗
	- 控制线程池的大小：从而控制了并发线程的数量
- 线程池的组成：![[Pasted image 20251202184746.png]]
	- 采用生产者消费者模式：
		- 线程池作为消费者：消费任务
		- 阻塞队列作为缓冲池：储存任务
		- main线程作为生产者：生产任务
- JDK线程池的选择
	- 独立的、任务并行的工作负载：[[ThreadPoolExecutor]]
		- [[TomCat线程池]]
	- 拆解一个大问题，并利用多核CPU全力加速计算：[[Fork和Join]]