### 技术栈选择
- 技术选型：
	- Nginx；
		- 基于**事件驱动**和**Epoll多路复用**模型，能够轻松应对**数十万**级别的并发连接，作为反向代理和负载均衡器，性能极高且资源消耗低
	- Spring Boot：业务逻辑；
	- Redis：高速缓存；
		- 数据存储在内存中，**读写性能极高**（可达10万+ QPS）；
		- 支持**Lua脚本**和**原子命令**（如DECR），是解决**库存超卖**等核心问题的关键技术选型
		- Redisson实现分布式锁
	- RabbitMQ：异步解耦；
		- 提供**可靠的消息传递机制**（如持久化、确认机制）
		- 能将瞬时的秒杀请求**异步化**，实现**削峰填谷**，保护下游数据库平稳运行
		- 实现系统模块间的解耦
	- MySQL：数据持久化
		- 作为关系型数据库，提供ACID事务特性，确保订单、用户等核心数据的**强一致性**和**可靠性**。
		- 通过分库分表、读写分离等优化，可以支撑海量数据存储
- 面向秒杀场景优化：秒杀的核心是**瞬时高并发、短事务、最终一致性**。上述选型都围绕这一核心
	-  **RabbitMQ**​ 的**消息可靠性和易于保障**的特性，对于确保每个秒杀订单不丢失至关重要。
	- **Redis**​ 的**极致性能**是抵挡瞬时洪峰的关键。
	- **Nginx**​ 在流量入口处高效地**分担压力**，保护后端应用。
- 成熟度与可维护性：所有这些技术都是久经考验的**主流开源方案**，拥有活跃的社区和丰富的文档。
	- 这意味着遇到问题时能快速找到解决方案
	- 也更容易招聘到相关人才
### 系统架构图

1. **接入层：流量关口**
    这是系统的第一道大门，核心目标是**扛住流量冲击并进行初步过滤**。
    - **负载均衡**：通过 **Nginx**​ 等工具，将海量请求均匀分发到后端的多个业务服务实例，避免单点过载。
    - **限流与过滤**：在此层实施严格的限流策略，例如使用 **Nginx的limit_req模块**​ 或 **Spring Cloud Gateway**，按IP或用户ID限制访问频率，将大部分无效或恶意请求（如刷单请求）拦截在外。同时，可以完成鉴权、参数校验等通用逻辑。
2. **业务服务层：核心逻辑**
    这一层负责实现具体的秒杀业务逻辑，关键在于**无状态设计和快速处理**。
    - **微服务拆分**：采用 **Spring Boot**​ 框架将系统拆分为独立的秒杀服务、订单服务、库存服务等。这使得每个服务可以独立开发、部署和扩容。
    - **快速校验与异步化**：服务层处理用户资格校验、活动状态判断等。核心的秒杀请求在通过校验后，并不直接操作数据库，而是立即返回“排队中”状态，并将请求信息发送至消息队列进行异步处理，从而快速释放资源，避免阻塞。
3. **缓存与队列层：性能引擎**
    这是保证高性能和削峰填谷的核心层级。
    - **缓存加速**：使用 **Redis**​ 缓存热点数据（如商品信息、活动规则），抵挡绝大部分查询请求，极大减轻数据库压力。
    - **原子操作防超卖**：利用 **Redis 的原子命令（INCR/DECR）或 Lua 脚本**​ 进行库存预扣减，确保在高并发下也不会发生超卖问题。
    - **消息队列削峰**：使用 **RabbitMQ**​ 或 **Kafka**​ 承接瞬时流量洪峰。后端服务作为消费者，按照自身处理能力从队列中拉取消息进行后续的订单创建和数据库落地，将难以承受的瞬时高并发转变为平滑的持续处理，保护下游数据库。
4. **数据存储层：最终保障**
    作为数据的最终归属地，核心要求是**可靠和准确**。
    - **数据库操作**：业务层异步消费消息后，将订单和最终的库存信息持久化到 **MySQL**​ 等关系型数据库中，利用其事务特性保证核心数据的最终一致性。
    - **分库分表**：当数据量极大时，会对订单等表进行分库分表（如使用 **ShardingSphere**），避免单表性能瓶颈。
### 核心模块/类设计
### 数据库草图
