---
aliases:
  - ps
---
### 查看进程
- `ps -ef` 查看系统所有进程的快照信息
	- 查看所有进程：使用 `ps -e`或 `ps -A`可以列出系统中的所有进程
		- 查看进程+线程：`ps H`
	- 以全格式显示信息：`ps -f`
	- 统计当前系统的总进程数：`ps -ef | wc -l`
	- 按名字搜索指定进程：如查找名字中有nginx的`ps -ef | grep nginx`
	- 查看指定用户的进程：使用 `ps -u username`（如 `ps -u root`）可以过滤出特定用户的进程
	- 通过进程ID (PID)：`ps -p pid1,pid2`可以查看指定PID的进程信息
	- 
	- 查看进程状态：看STAT字段
		- **R**：正在运行或可运行。
		- **S**：中断睡眠（等待事件完成）。
		- **D**：不可中断睡眠（通常等待I/O）。
		- **Z**：僵尸进程（已终止但未被父进程回收）。
		- **T**：已停止。
- `jps`可以查看所有java的进程

### 查看线程
- `ps -eLf`:列出系统中所有进程的详细线程信息
	- `ps -L`选项可以显示线程信息
	- 查看特定进程下的所有线程：`ps -T -p <pid>`
- `top -H -p <PID>`：列出想看的进程的线程
- `jstack <PID>`查看java进程下的线程

### 自定义排序
- **按资源排序**：使用 `--sort`选项可以按特定字段排序进程列表。例如：
    - `ps aux --sort=-%cpu`按CPU使用率降序排序。
    - `ps aux --sort=-%mem`按内存使用率降序排序。
    - 字段前加 `-`表示降序，加 `+`表示升序。
- **自定义输出列**：`-o`选项允许你完全自定义显示的列，例如 `ps -eo pid,user,%cpu,%mem,comm`
    。你还可以使用 `ps -e -o pid,uname=USERNAME,pcpu=CPU_USAGE,pmem,comm`这样的方式重命名列标题。
- **显示进程运行时间**：使用 `ps -e -o pid,comm,etime`可以查看进程已经运行的时间
### 杀死线程
`kill <PID>`