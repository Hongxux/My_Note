
1. 优先使用 `COUNT(*)`：
    - 它是 SQL 标准写法，清晰表达“统计行数”的意图，且现代优化器会高效处理。
    - 避免使用 `COUNT(字段)`除非需排除 NULL 值。
        
2. ​InnoDB 表的优化方法​：
    - ​索引优化​：为经常用于 `WHERE`条件的字段创建索引，使 `COUNT`能利用索引扫描（如 `WHERE status = 'active'`时，索引 on `status`可加速）。
    - ​避免全表扫描​：如果表很大，`COUNT(*)`可能较慢，考虑使用近似值（如从信息模式表 `information_schema.tables`获取估算值）或业务层缓存。

| 用法                | 含义                                     | 是否统计 NULL | 性能说明                                           |
| ----------------- | -------------------------------------- | --------- | ---------------------------------------------- |
| ​**`COUNT(*)`**​  | 统计所有行数（包括 NULL 行）。                     | 是         | InnoDB 中需扫描表，但优化器会优先选择最小的索引。                   |
| ​**`COUNT(主键)`**​ | 统计主键字段非 NULL 的行数（主键必非 NULL，故等价于总行数）。   | 否         | 与 `COUNT(*)`效果相同，但可能略慢，因为需检查主键值。               |
| ​**`COUNT(字段)`**​ | 统计指定字段非 NULL 的行数。                      | 否         | 如果字段有索引，可能使用索引扫描；否则全表扫描。                       |
| ​**`COUNT(1)`**​  | 统计常量表达式非 NULL 的行数（1 永远非 NULL，故等价于总行数）。 | 否         | 性能与 `COUNT(*)`类似，但推荐使用 `COUNT(*)`（更符合 SQL 标准）。 |

**区别在于要不要传值、要不要判断非空**
- `COUNT(字段)`需要**传值 + 判断**，开销最大。
- `COUNT(主键)`需要**传值**，开销次之。
- `COUNT(1)`和 `COUNT(*)`​**不传值**，只计数，开销最小。