---
tags:
  - linker-exclude
---
​
**数据访问的模式（随机 vs. 顺序）对机械硬盘性能的影响，远远大于硬盘本身是高端还是低端的差异。因此，最重要的系统设计原则就是最大化顺序访问。

---

### 关键分析总结

#### 1. 机械硬盘的I/O时间模型

首先，文章确立了衡量磁盘性能的基本公式：

​ **`I/O 时间 = 寻道时间 + 旋转延迟 + 传输时间`

这个公式表明，一次磁盘访问的延迟主要来自于物理机械运动：

- ​**寻道时间**​：磁头移动至正确磁道的时间。
    
- ​**旋转延迟**​：盘片旋转，使目标扇区到达磁头下方的时间。
    
- ​**传输时间**​：实际读写数据的时间（通常很短）。
    

#### 2. 随机 vs. 顺序工作负载的惊人性能差距

文章通过对比两款硬盘（高性能的Cheetah 15K.5 和 容量型的Barracuda）在两种不同工作负载下的表现，得出了最关键的结论。

|工作负载|性能特征|Cheetah 结果|Barracuda 结果|​**性能差距倍数**​|
|---|---|---|---|---|
|​**随机工作负载**​|大量小规模（4KB）随机读取。每次I/O都需要**寻道 + 旋转延迟**。|​**0.66 MB/s**​|​**0.31 MB/s**​|Cheetah 约快 ​**2 倍**​|
|​**顺序工作负载**​|大规模（100MB）连续读取。只需一次**寻道 + 旋转延迟**，后面是漫长的连续数据传输。|​**125 MB/s**​|​**105 MB/s**​|Cheetah 约快 ​**1.2 倍**​|
|​**同一硬盘内部对比**​|​**随机 vs 顺序**​|​**~190 倍**​|​**~340 倍**​|​**天壤之别**​|

#### 3. 最重要的发现与设计启示

1. ​**主要矛盾：访问模式**​
    
    - 表格最震撼的对比是**同一块硬盘内部**，顺序访问和随机访问的速度差距高达**几百倍**。这个差距远大于高端盘和低端盘之间的性能差距。
        
    - ​**结论**​：优化软件，使其尽可能进行**顺序I/O**，是提升磁盘性能最有效、性价比最高的方法。
        
    
2. ​**次要矛盾：硬盘品质**​
    
    - 在相同的访问模式下，高端“性能盘”（如Cheetah）确实比低端“容量盘”（如Barracuda）性能更好（尤其是在随机负载下快约2倍）。这是因为前者拥有更高的转速（更短的旋转延迟）和更快的平均寻道时间。
        
    - ​**结论**​：根据应用场景（追求极致性能还是大容量低成本）选择合适的硬件是必要的。
        
    

### 总结与核心建议

这段分析得出了计算机系统设计中最著名的准则之一：

> ​**尽可能地以顺序方式对磁盘进行读写操作。​**​

对于软件和系统设计者（例如开发文件系统、数据库的人）来说，最重要的任务就是通过各种技术（如缓存、日志结构、写缓冲等），将大量的小规模随机I/O请求重新组织成大规模的顺序I/O请求，从而绕过机械硬盘的物理瓶颈（寻道和旋转延迟），极大提升整体性能。