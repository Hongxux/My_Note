

这里的引导类指这个：
![[Pasted image 20251110214825.png]]

![[Pasted image 20251110214855.png]]



### 1. 引导类的定义：执行的入口

> “SpringBoot的引导类是Boot工程的执行入口，运行main方法就可以启动项目”

- **引导类**：即带有 `@SpringBootApplication`注解和 `main`方法的类。
    
- **执行入口**：当你通过 `java -jar your-app.jar`或 IDE 运行这个类时，JVM 启动，加载引导类，并执行其 `main`方法。
    

### 2.  `SpringApplication.run()`：初始化 Spring 容器

> “SpringBoot工程运行后初始化Spring容器，扫描引导类所在包加载bean”
![[Pasted image 20251110214944.png]]
这是 `SpringApplication.run()`方法在背后做的事情，内部流程：

1. **启动 Spring 容器**：`run`方法会创建一个 Spring 的 **IoC 容器**（`ApplicationContext`）。
    
2. **执行自动配置**：由于有 `@EnableAutoConfiguration`，Spring Boot 会检查 classpath 下的 jar 包、你的配置等，**自动配置**所需的 Bean（如数据源、Web MVC 组件等）。
    
3. **扫描并加载 Bean**：因为 `@SpringBootApplication`包含了 `@ComponentScan`，容器会**自动扫描引导类所在包及其所有子包**，将带有 `@Component`, `@Service`, `@Controller`, `@Repository`等注解的类注册为 Spring Bean。

#### `ConfigurableApplicationContext`接口
`ConfigurableApplicationContext`这个接口是 `SpringApplication.run()`的返回值，是 Spring 容器的“总控制台”，你可以通过它来操作容器。根据其实现的接口（`ConfigurableApplicationContext`-> `ApplicationContext`+ `Lifecycle`+ `Closeable`），有如下功能：
- **`ApplicationContext`**：这是 Spring 框架的核心接口，代表 **IoC 容器**，负责管理所有 **Bean 的生命周期**。
- **`Lifecycle`**：允许对上下文 **（容器）本身进行启动、停止等生命周期管理**。
- **`Closeable`**：允许**关闭**应用上下文，释放资源。这就是为什么我们可以调用 `ctx.close()`来优雅地关闭 Spring Boot 应用。
    
