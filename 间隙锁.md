####  守护“空隙”的锁

- ​**定义**​：间隙锁只锁住**记录之间的空隙**，不锁住记录本身。
    
- ​**作用**​：它的**唯一目的**就是防止在这个空隙内**插入新的记录**。例如，锁住间隙 `(5, 10)`后，其他事务就无法插入 `id=6`, `id=7`等数据。
- **生效情况：**
	- 仅在 InnoDB 的 RR（可重复读）隔离级别下生效，RC（读已提交）级别会禁用间隙锁，仅保留记录锁；
	- 依赖索引，若操作未命中索引，InnoDB 会退化为表锁，间隙锁失效；
- ​**重要特性（兼容性）​**​：
    
    - ​**间隙锁与间隙锁是兼容的**。多个事务可以同时对同一个间隙加间隙锁。它们会“默契”地一起防止新数据插入，但不会互相阻塞。
        
    - ​**间隙锁与插入操作是冲突的**。这是最关键的冲突点。