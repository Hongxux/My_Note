### [[多线程评估]]
### [[线程状态]]
### [[创建线程]]
### [[JAVA线程常见方法]]
### 并发之共享模型
#### 原子性

#### 可见性
#### 有序性
#### 同步
- 需求背景：先后顺序的依赖
	- 一个线程任务的进行，需要另外一个进程完成的一个结果为条件
- 同步模型:
	- 犹豫模式：避免重复执行
	- [[保护性暂停模式]]：**一对一**的线程间结果等待
	- [[生产者消费者模式]]：**多对多**的线程间结果等待，二者通过缓冲区完全解耦
	- 两阶段终止：实现服务平滑下线
- 解决方案：
	- wait/notify
	- pack/unpack
	- [[ReentrantLock]]的Condition条件变量
#### [[活跃性问题]]
- 需求背景：
	- 需要多把锁 ：多个不同的功能，业务没有关联，却使用相同的锁对象，
		- 问题：锁粒度太粗，会导致并发度下降
		- 解决方式：使用多把锁
	- 多把锁可能带来[[活跃性问题]]
		- [[死锁问题]]
		- 活锁问题
		- 饥饿问题

- 解决方式：[[ReentrantLock]]的高级功能
	- 可中断：进入synchronized块后可以被中断退出
	- 可以设置超时时间：规定时间内获取锁失败，可以放弃获取锁，而去执行其他代码
	- 可以设置为公平锁：遵循先来先服务，避免线程饥饿
	- 支持多个条件变量：有多个WaitSet。对应不同的唤醒条件
	- 支持可重入
#### [[不可变]]
- 需求背景：实现共享变量安全
- 实现：不可变
	- 不可变类的使用
	- 不可变类的设计
	- 无状态类的设计
#### 并发工具
- [[线程池]]
	- ThreadPoolExecutor
	- [[Fork/Join]]
- JUC
	- Lock
		- ReentrantLock
			- [[ReentrantReadWriteLock]]
			- [[StampedLock]]
	- Semaphore
	- [[CountdownLatch]]
	- [[CyclicBarrier]]
	- 并发集合工具类
		- [[ConcurrentHashMap]]
		- ConcurrentLinkedQueue
		- BlockingQueue(阻塞队列)
		- CopyOnWriteArrayList
- disruptor
- guava