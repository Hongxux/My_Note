### 概念
- **定义**​：一个或多个操作要么全部执行成功，要么全部不执行，不会被打断。
    
- ​**问题**​：防止多个线程交错执行导致的**竞态条件**。
    
- ​**例子**​：`count++`这个操作看似一行代码，实际上包含"读取-修改-写入"三个步骤，不是原子操作。
    

```
// 非原子操作
public class UnsafeCounter {
    private int count = 0;
    
    public void increment() {
        count++; // 不是原子操作！
    }
}

// 原子操作实现
public class SafeCounter {
    private AtomicInteger count = new AtomicInteger(0);
    
    public void increment() {
        count.incrementAndGet(); // 原子操作
    }
}
```

---
### 解决方法
#### [[ java的加锁机制]]
##### [[synchronized]]内置锁
锁是保护数据的，而不是保护代码的。对于一组相关的共享变量，应使用**同一个锁**来保护。
 同步是一把双刃剑。过度使用锁（如在方法上滥用`synchronized`）会导致性能下降。应尽量**缩小同步代码块的范围**。
