**虽然二叉树和红黑树是经典的数据结构，但由于其“深度”问题在磁盘I/O场景下会成为性能瓶颈，因此不适合直接用作数据库的索引结构。​**​ 而B+Tree通过其“多路、矮胖”的特性，完美地解决了这个问题，成为了数据库索引的实际标准。

![[Pasted image 20251029191802.png]]
![[Pasted image 20251029191813.png]]
![[Pasted image 20251029192056.png]]
![[Pasted image 20251029192306.png]]

##### 1. 节点类型与功能

整棵树分为两种类型的节点：

- ​**非叶子节点（图示上方的蓝色矩形）​**​：
    
    - ​**作用**​：仅起**索引作用**，相当于路标，用于指引搜索方向，不存储实际的数据。
        
    - ​**构成**​：由键（Key）和指针（Pointer）交替组成。例如，根节点包含键 `[38, 67]`和三个指针。
        
    - ​**搜索过程**​：如果要查找数据55，从根节点开始：55 < 67，所以沿着38和67之间的指针向下查找。
        
    
- ​**叶子节点（图示最下方的绿色矩形）​**​：
    
    - ​**作用**​：​**存储所有的实际数据**。
        
    - ​**构成**​：包含所有的键和指向对应数据行的指针（或直接存储数据行本身）。
        
    - ​**关键特性**​：所有叶子节点之间通过**指针双向连接**，形成一个有序链表。这是B+Tree支持高效范围查询的关键。
        
    

##### 2. 特点与规则（以4阶树为例）

1. ​**所有元素都会出现在叶子节点**​：无论你要找6还是98，最终都需要到达叶子节点才能获取数据。
    
2. ​**叶子节点形成有序链表**​：如图所示，叶子节点 `[6,12,16,18]`-> `[29,34]`-> `[38,45]`... -> `[94,98]`通过指针相连。这使得范围查询（如查找34到62之间的所有数据）异常高效，只需在链表中顺序遍历即可，无需从根节点重新搜索。
    
3. ​**非叶子节点充当“稀疏索引”​**​：非叶子节点中的键是其子节点中最小（或最大）键的副本，用于路由。