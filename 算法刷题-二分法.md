**[二分法](https://zhida.zhihu.com/search?content_id=165894837&content_type=Article&match_order=1&q=%E4%BA%8C%E5%88%86%E6%B3%95&zhida_source=entity)（Binary Search）：**

- 基础知识：二分法是用来解法基本模板，时间复杂度logN；常见的二分法题目可以分为两大类，显式与隐式，即是否能从字面上一眼看出二分法的特点：要查找的数据是否可以分为两部分，前半部分为X，后半部分为O
- 显式二分法：

- Leetcode 34. Find First and Last Position of Element in Sorted Array
- Leetcode 33. Search in Rotated Sorted Array
- Leetcode 1095. Find in Mountain Array
- Leetcode 162. Find Peak Element
- Leetcode 278. First Bad Version
- Leetcode 74. Search a 2D Matrix
- Leetcode 240. Search a 2D Matrix II

- 隐式二分法：

- Leetcode 69. Sqrt(x)
- Leetcode 540. Single Element in a Sorted Array
- Leetcode 644. Maximum Average Subarray II
- Leetcode 528. Random Pick with Weight
- Leetcode 1300. Sum of Mutated Array Closest to Target
- Leetcode 1060. Missing Element in Sorted Array
- Leetcode 1062. Longest Repeating Substring
- Leetcode 1891. Cutting Ribbons
- Leetcode 410. Split Array Largest Sum (与1891类似)

---
## 显式二分法
这7道LeetCode题目完美展现了**二分查找（Binary Search）** 在各种场景下的灵活应用和变种。它们从基础的一维数组搜索，逐步进阶到复杂的二维矩阵和特殊结构，形成了一个完整的二分查找知识体系。

让我帮你把它们梳理清楚，并给你一个最高效的刷题顺序。

### 🧠 核心思想与分类

这7道题可以清晰地分为三大类，它们的核心思想都是**如何在有序或部分有序的数据结构中高效地缩小搜索范围**：

| 题目 | 核心考点 | 关键技巧/数据结构 | 难度 |
| :--- | :--- | :--- | :--- |
| **278. 第一个错误的版本** | 基础二分查找 | 寻找第一个满足条件的点 | 简单 |
| **34. 在排序数组中查找元素的第一个和最后一个位置** | 二分查找边界 | **寻找左边界和右边界** | 中等 |
| **162. 寻找峰值** | 局部极值查找 | 比较 mid 和 mid+1 | 中等 |
| **33. 搜索旋转排序数组** | 部分有序数组 | **判断有序区间** | 中等 |
| **1095. 山脉数组中查找目标值** | 先找峰值再二分 | **三明治搜索法** | 困难 |
| **74. 搜索二维矩阵** | 二维转一维 | 虚拟一维索引 | 中等 |
| **240. 搜索二维矩阵 II** | 矩阵搜索优化 | **从右上角/左下角搜索** | 中等 |

---

### 🔗 内在联系与思想升华

这7道题看似不同，实则环环相扣，核心思想一脉相承：

1.  **「二分查找的基石」**
    *   **278. 第一个错误的版本** 是二分查找最经典的模板题。它教你如何用 `while (left < right)` 和 `mid = left + (right - left) / 2` 来寻找**第一个满足条件（isBadVersion）** 的位置，这个模板是后面所有题目的基础[[1]][[2]]。
    *   **34. 在排序数组中查找元素的第一个和最后一个位置** 是278的进阶。它要求你**分别寻找左边界和右边界**，核心思想是当 `nums[mid] == target` 时，不立即返回，而是继续向左或向右收缩边界，直到找到最左或最右的target[[3]][[4]][[5]]。

2.  **「局部有序与极值查找」**
    *   **162. 寻找峰值** 引入了**局部判断**的思想。它不要求全局有序，只通过比较 `nums[mid]` 和 `nums[mid+1]` 来判断峰值在左侧还是右侧。如果 `nums[mid] < nums[mid+1]`，说明右侧在上坡，峰值一定在右边，否则在左边[[6]][[7]][[8]]。
    *   **33. 搜索旋转排序数组** 是二分查找的巅峰应用之一。它的核心技巧是：**先判断哪半边是有序的**。通过比较 `nums[left]` 和 `nums[mid]`，如果 `nums[left] <= nums[mid]`，说明左半边有序，然后判断target是否在有序的左半边内，从而决定搜索方向[[9]][[10]][[11]]。
    *   **1095. 山脉数组中查找目标值** 是33和162的结合体。它要求你先用162的方法**找到峰值**，将数组分为升序和降序两段，然后分别在两段中进行二分查找[[12]][[13]][[14]]。

3.  **「二维空间的二分艺术」**
    *   **74. 搜索二维矩阵** 的矩阵特性是“每行的第一个整数大于前一行的最后一个整数”。这实际上意味着整个矩阵可以**被拉平为一个有序的一维数组**。解法是通过 `row = mid // n` 和 `col = mid % n` 将一维索引映射回二维坐标，然后进行标准二分查找[[15]][[16]][[17]]。
    *   **240. 搜索二维矩阵 II** 的特性是“每行从左到右升序，每列从上到下升序”。最优解法是从**右上角（或左下角）** 开始搜索。如果当前值大于target，向左移动（排除一整列）；如果小于target，向下移动（排除一整行）。这种方法能在O(m+n)时间内解决问题[[18]][[19]][[20]]。

---

### 📈 最佳刷题顺序推荐

我强烈建议你按以下顺序攻关，从易到难，逐步搭建知识体系：

1.  **第一步：掌握二分查找模板 (278)**
    *   从最简单的 **278. 第一个错误的版本** 开始，彻底理解 `while (left < right)` 和 `left = mid + 1`、`right = mid` 的模板。这是所有二分法的基础。

2.  **第二步：学习边界查找 (34)**
    *   然后做 **34. 在排序数组中查找元素的第一个和最后一个位置**，学习如何修改二分模板来寻找左边界和右边界。

3.  **第三步：挑战局部判断 (162, 33)**
    *   先做 **162. 寻找峰值**，体验如何在非全局有序的情况下使用二分法。
    *   然后挑战 **33. 搜索旋转排序数组**，这是面试超级高频题，掌握“判断有序区间”的核心技巧。

4.  **第四步：征服山脉数组 (1095)**
    *   用 **1095. 山脉数组中查找目标值** 来综合运用前几步的知识。先找峰值，再二分查找。

5.  **第五步：探索二维二分 (74, 240)**
    *   先做 **74. 搜索二维矩阵**，学习如何将二维矩阵映射为一维数组进行二分查找。
    *   最后做 **240. 搜索二维矩阵 II**，掌握从右上角开始的搜索技巧，体验另一种解题思路。

### 💡 总结一下

可以把这7道题看作一个**围绕“二分查找”的完整知识树**：
*   **278** 是树根，提供**基础的二分模板**。
*   **34** 是主干，教授**边界查找的通用方法**。
*   **162/33** 是主要分支，探索**局部有序和旋转数组**的特殊情况。
*   **1095** 是树冠，**综合运用**前几种技巧。
*   **74/240** 是向外延伸的枝叶，将二分法**拓展到二维空间**。

按照这个路径，你不仅能高效通过面试，更能真正理解二分查找这一强大算法的精髓。祝你刷题愉快，一举拿下！


---
## **隐式二分法**

这9道LeetCode题目展现了**二分查找（Binary Search）** 在非传统搜索场景下的强大威力，特别是**在答案空间进行二分**和**二分答案（二分验证法）** 的巧妙应用。它们形成了一个完整的二分查找进阶知识体系。

让我帮你把它们梳理清楚，并给你一个最高效的刷题顺序。

### 🧠 核心思想与分类

这9道题可以分为三大类，它们的核心思想都是**在无法直接使用标准二分的场景下，通过转换问题来应用二分思想**：

| 题目 | 核心考点 | 关键技巧/思想 | 难度 |
| :--- | :--- | :--- | :--- |
| **69. x 的平方根** | 在答案空间二分 | 寻找最大的ans使得ans² ≤ x | 简单 |
| **540. 有序数组中的单一元素** | 利用奇偶性二分 | 根据索引奇偶性和元素关系判断方向 | 中等 |
| **528. 按权重随机选择** | 前缀和 + 二分查找 | 在前缀和数组中二分查找随机值 | 中等 |
| **1060. 有序数组中的缺失元素** | 利用缺失数计数二分 | 计算到某位置为止的缺失元素个数 | 中等 |
| **1062. 最长重复子串** | 二分答案 + 滚动哈希 | 二分可能长度，用哈希验证 | 中等 |
| **644. 最大平均子数组 II** | 二分答案 + 前缀和优化 | 将平均值问题转化为判定问题 | 困难 |
| **1300. 转变数组后最接近目标的数组和** | 二分答案（阈值） | 寻找最小的阈值使得求和接近target | 中等 |
| **1891. 切割彩带** | 二分答案（段数） | 二分最大长度，验证能否切出k段 | 中等 |
| **410. 分割数组的最大值** | 二分答案（子数组和） | 二分最大和，验证能否分成m份 | 困难 |

---

### 🔗 内在联系与思想升华

这些题目展示了二分查找从"在索引中搜索"到"在答案空间中搜索"的思维跃迁：

1.  **「在答案空间二分」**
    *   **69. x 的平方根** 是最经典的例子。我们不是在数组索引中二分，而是在**可能的答案空间（0到x）** 中二分，寻找满足 `ans² ≤ x` 的最大ans值。
    *   **540. 有序数组中的单一元素** 看似在索引中二分，实则利用了**奇偶性**这一隐藏条件。通过比较 `nums[mid]` 和 `nums[mid^1]`（mid的配对索引），可以判断单一元素在左半部分还是右半部分。
    *   **528. 按权重随机选择** 通过构建**前缀和数组**，将权重分布转换为有序数组，然后在这个"虚拟"的有序数组中进行二分查找，找到随机数落入的区间。
    *   **1060. 有序数组中的缺失元素** 通过计算 `nums[i]` 与 `nums[0] + i` 的差值来统计缺失元素数量，从而在索引空间中进行二分，找到第k个缺失元素的位置。

2.  **「二分答案（Binary Search on Answer）」**
    这是最精妙的一类题型，核心思想是：**假设答案已知，验证是否可行**。
    *   **1062. 最长重复子串**：二分可能的子串长度L，用**滚动哈希（Rabin-Karp）** 在O(n)时间内验证是否存在长度为L的重复子串。
    *   **644. 最大平均子数组 II**：二分可能的平均值ans，将原数组每个元素减去ans，问题转化为**是否存在长度≥k的子数组和≥0**（用前缀和与滑动窗口验证）。
    *   **1300. 转变数组后最接近目标的数组和**：二分可能的阈值（最大值），将所有大于阈值的元素变为阈值，验证变换后的数组和最接近target。
    *   **1891. 切割彩带** 和 **410. 分割数组的最大值** 是同一类问题的两个视角：
        *   **1891**：二分彩带长度L，验证能否切出至少k段长度为L的彩带。
        *   **410**：二分子数组和的最大值M，验证能否将数组分成最多m个子数组且每个子数组和≤M。

---

### 📈 最佳刷题顺序推荐

按照思维难度和技巧相关性，我推荐这样的学习路径：

1.  **第一步：理解答案空间二分 (69, 540)**
    *   从 **69. x 的平方根** 开始，建立"在答案空间二分"的基本概念。
    *   然后做 **540. 有序数组中的单一元素**，学习如何利用奇偶性等隐藏条件来二分。

2.  **第二步：掌握特殊技巧二分 (528, 1060)**
    *   做 **528. 按权重随机选择**，学习前缀和+二分的组合技巧。
    *   然后做 **1060. 有序数组中的缺失元素**，体验如何通过数学计算转换问题。

3.  **第三步：入门二分答案 (1300, 1891)**
    *   先做 **1300. 转变数组后最接近目标的数组和**，验证函数相对简单。
    *   然后做 **1891. 切割彩带**，验证函数也很直观（计数段数）。

4.  **第四步：挑战高级二分答案 (410, 644, 1062)**
    *   做 **410. 分割数组的最大值**，这是二分答案的经典题，验证函数需要贪心计算。
    *   然后挑战 **644. 最大平均子数组 II**，需要数学变换将平均值问题转化为判定问题。
    *   最后攻克 **1062. 最长重复子串**，需要结合滚动哈希算法来验证。

### 💡 总结一下

这9道题代表了二分查找的最高境界——**跳出索引搜索的框架，在更广阔的空间中应用二分思想**：

*   **69/540** 教你**在数值答案空间和带有隐藏条件的索引空间**中二分
*   **528/1060** 展示如何通过**数学转换和前预处理**创造二分条件
*   **1300/1891/410/644/1062** 是**二分答案法**的典范，教你"先猜答案，再验证"的高级思维模式

按照这个路径学习，你不仅能解决这些具体题目，更能获得一种强大的算法思维工具，用于解决各种最优化和存在性问题。祝你刷题愉快！