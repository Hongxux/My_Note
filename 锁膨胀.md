- 含义：从轻量锁到重量级锁
- 触发时机：JVM认为竞争激烈，自旋只会白白消耗CPU
	- 自旋失败：竞争线程CAS尝试一定次数（默认十次）后仍未获锁
	- 多线程竞争：在自旋期间，等待锁的线程超过一个（如第三个线程加入竞争）
- 设计目的：
	- 避免CPU空转：将竞争失败线程状态转变为BLOCKED状态
- 设计缺点：
	- 引入线程上下文切换开销，性能成本高
		- 锁膨胀会让自旋的线程进入阻塞状态，要进行上下文切换
		- 锁释放后唤醒等待队列的线程也要进行上下文切换
- 实现流程：![[Pasted image 20251130222415.png]]
	1. 为 Object 对象申请 Monitor 锁
		- Monitor的Owner设置为Object的Mark Word指向的锁记录所在的线程
		-  然后自己进入Monitor的EntryList，进入BLOCKED状态
	2. 让 Object 指向重量级锁地址